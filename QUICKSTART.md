# üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç - OLX Parser

## –®–∞–≥ 1: –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π (1 –º–∏–Ω—É—Ç–∞)

```bash
pip install -r requirements.txt
```

## –®–∞–≥ 2: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Telegram (3 –º–∏–Ω—É—Ç—ã)

### 2.1 –°–æ–∑–¥–∞–Ω–∏–µ –±–æ—Ç–∞

1. –û—Ç–∫—Ä–æ–π—Ç–µ Telegram –∏ –Ω–∞–π–¥–∏—Ç–µ [@BotFather](https://t.me/BotFather)
2. –û—Ç–ø—Ä–∞–≤—å—Ç–µ –∫–æ–º–∞–Ω–¥—É: `/newbot`
3. –ü—Ä–∏–¥—É–º–∞–π—Ç–µ –∏–º—è –±–æ—Ç–∞ (–Ω–∞–ø—Ä–∏–º–µ—Ä: "My OLX Parser")
4. –ü—Ä–∏–¥—É–º–∞–π—Ç–µ username (–Ω–∞–ø—Ä–∏–º–µ—Ä: "my_olx_parser_bot")
5. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ —Ç–æ–∫–µ–Ω (–≤—ã–≥–ª—è–¥–∏—Ç –∫–∞–∫: `123456789:ABCdefGHIjklMNOpqrsTUVwxyz`)

### 2.2 –ü–æ–ª—É—á–µ–Ω–∏–µ Chat ID

1. –ù–∞–π–¥–∏—Ç–µ –≤–∞—à–µ–≥–æ –±–æ—Ç–∞ –≤ Telegram (–ø–æ username)
2. –ù–∞–∂–º–∏—Ç–µ **START** –∏–ª–∏ –æ—Ç–ø—Ä–∞–≤—å—Ç–µ `/start`
3. –ù–∞–π–¥–∏—Ç–µ [@userinfobot](https://t.me/userinfobot)
4. –û—Ç–ø—Ä–∞–≤—å—Ç–µ `/start`
5. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ –≤–∞—à **ID** (—á–∏—Å–ª–æ, –Ω–∞–ø—Ä–∏–º–µ—Ä: `123456789`)

### 2.3 –°–æ–∑–¥–∞–Ω–∏–µ .env —Ñ–∞–π–ª–∞

–°–∫–æ–ø–∏—Ä—É–π—Ç–µ `.env.example` –≤ `.env`:

```bash
copy .env.example .env
```

–û—Ç–∫—Ä–æ–π—Ç–µ `.env` –≤ –±–ª–æ–∫–Ω–æ—Ç–µ –∏ –≤—Å—Ç–∞–≤—å—Ç–µ –≤–∞—à–∏ –¥–∞–Ω–Ω—ã–µ:

```env
TELEGRAM_BOT_TOKEN=–í–ê–®_–¢–û–ö–ï–ù_–°–Æ–î–ê
TELEGRAM_CHAT_ID=–í–ê–®_ID_–°–Æ–î–ê

DISCOUNT_THRESHOLD=0.20
MIN_REAL_PRICE=1000
SCRAPE_INTERVAL_SECONDS=300

IGNORE_WORDS=–±–∏—Ç—ã–π,—Å–ª–æ–º–∞–Ω–Ω—ã–π,–Ω–∞ –∑–∞–ø—á–∞—Å—Ç–∏,–±–µ–∑ —ç–∫—Ä–∞–Ω–∞,–Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç,–¥–ª—è —Ä–µ–º–æ–Ω—Ç–∞,—Ä–∞–∑–±–∏—Ç

DATABASE_URL=sqlite:///olx_parser.db
```

## –®–∞–≥ 3: –ò–º–ø–æ—Ä—Ç –±–∞–∑—ã –º–æ–¥–µ–ª–µ–π (30 —Å–µ–∫—É–Ω–¥)

```bash
python import_base.py
```

–í—ã –¥–æ–ª–∂–Ω—ã —É–≤–∏–¥–µ—Ç—å:
```
‚úì Successfully imported 423 models from base.xlsx
```

## –®–∞–≥ 4: –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ (2 –º–∏–Ω—É—Ç—ã)

### –¢–µ—Å—Ç 1: –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–∞—Ä—Å–µ—Ä–∞

```bash
python test_scraper.py
```

–î–æ–ª–∂–Ω–æ –ø–æ–∫–∞–∑–∞—Ç—å –Ω–∞–π–¥–µ–Ω–Ω—ã–µ –æ–±—ä—è–≤–ª–µ–Ω–∏—è —Å OLX.

### –¢–µ—Å—Ç 2: –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–æ–ø–æ—Å—Ç–∞–≤–ª–µ–Ω–∏—è –º–æ–¥–µ–ª–µ–π

```bash
python test_matcher.py
```

–î–æ–ª–∂–Ω–æ –ø–æ–∫–∞–∑–∞—Ç—å, –∫–∞–∫ —Å–∏—Å—Ç–µ–º–∞ –Ω–∞—Ö–æ–¥–∏—Ç –º–æ–¥–µ–ª–∏ –≤ –æ–±—ä—è–≤–ª–µ–Ω–∏—è—Ö.

### –¢–µ—Å—Ç 3: –ü—Ä–æ–≤–µ—Ä–∫–∞ Telegram

```bash
python test_telegram.py
```

**–ü—Ä–æ–≤–µ—Ä—å—Ç–µ Telegram** - –¥–æ–ª–∂–Ω–æ –ø—Ä–∏–π—Ç–∏ —Ç–µ—Å—Ç–æ–≤–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ!

## –®–∞–≥ 5: –ó–∞–ø—É—Å–∫ –ø–∞—Ä—Å–µ—Ä–∞! üéâ

### –¢–µ—Å—Ç–æ–≤—ã–π –∑–∞–ø—É—Å–∫ (–æ–¥–∏–Ω —Ä–∞–∑)

```bash
python main.py --once
```

–≠—Ç–æ –∑–∞–ø—É—Å—Ç–∏—Ç –æ–¥–∏–Ω —Ü–∏–∫–ª –ø–∞—Ä—Å–∏–Ω–≥–∞. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ:
- –ö–æ–Ω—Å–æ–ª—å –Ω–∞ –Ω–∞–ª–∏—á–∏–µ –ª–æ–≥–æ–≤
- Telegram –Ω–∞ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è (–µ—Å–ª–∏ –Ω–∞–π–¥–µ–Ω—ã –≤—ã–≥–æ–¥–Ω—ã–µ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è)

### –ü–æ—Å—Ç–æ—è–Ω–Ω–∞—è —Ä–∞–±–æ—Ç–∞

```bash
python main.py
```

–ü–∞—Ä—Å–µ—Ä –±—É–¥–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å –ø–æ—Å—Ç–æ—è–Ω–Ω–æ, –ø—Ä–æ–≤–µ—Ä—è—è OLX –∫–∞–∂–¥—ã–µ 5 –º–∏–Ω—É—Ç.

**–î–ª—è –æ—Å—Ç–∞–Ω–æ–≤–∫–∏:** –Ω–∞–∂–º–∏—Ç–µ `Ctrl+C`

## –®–∞–≥ 6: –ü—Ä–æ—Å–º–æ—Ç—Ä —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏

```bash
python view_stats.py
```

–ü–æ–∫–∞–∂–µ—Ç:
- –°–∫–æ–ª—å–∫–æ –æ–±—ä—è–≤–ª–µ–Ω–∏–π –æ–±—Ä–∞–±–æ—Ç–∞–Ω–æ
- –°–∫–æ–ª—å–∫–æ –≤—ã–≥–æ–¥–Ω—ã—Ö –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–π –Ω–∞–π–¥–µ–Ω–æ
- –¢–æ–ø-10 –ª—É—á—à–∏—Ö —Å–¥–µ–ª–æ–∫
- –°—Ç–∞—Ç–∏—Å—Ç–∏–∫—É –ø–æ –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º

## ‚öôÔ∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤

### –ò–∑–º–µ–Ω–∏—Ç—å –ø–æ—Ä–æ–≥ —Å–∫–∏–¥–∫–∏ (–Ω–∞–ø—Ä–∏–º–µ—Ä, –Ω–∞ 30%)

–í `.env`:
```env
DISCOUNT_THRESHOLD=0.30
```

### –ò–∑–º–µ–Ω–∏—Ç—å –∏–Ω—Ç–µ—Ä–≤–∞–ª –ø—Ä–æ–≤–µ—Ä–∫–∏ (–Ω–∞–ø—Ä–∏–º–µ—Ä, –∫–∞–∂–¥—ã–µ 10 –º–∏–Ω—É—Ç)

–í `.env`:
```env
SCRAPE_INTERVAL_SECONDS=600
```

### –î–æ–±–∞–≤–∏—Ç—å —Å—Ç–æ–ø-—Å–ª–æ–≤–∞

–í `.env`:
```env
IGNORE_WORDS=–±–∏—Ç—ã–π,—Å–ª–æ–º–∞–Ω–Ω—ã–π,–Ω–∞ –∑–∞–ø—á–∞—Å—Ç–∏,–±–µ–∑ —ç–∫—Ä–∞–Ω–∞,–Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç,—Ç—Ä–µ—Å–Ω—É—Ç,—Ü–∞—Ä–∞–ø–∏–Ω—ã,–¥–µ—Ñ–µ–∫—Ç
```

## üîß –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –±–∞–∑–æ–π –º–æ–¥–µ–ª–µ–π

### –î–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤—É—é –º–æ–¥–µ–ª—å

```python
from database import SessionLocal, ReferenceModel

db = SessionLocal()

new_model = ReferenceModel(
    brand="Sony",
    model_name="A7 III",
    base_price=250000,
    category="camera",
    search_keywords="sony a7 iii|a7iii|a7 3|sony a73",
    active=True
)

db.add(new_model)
db.commit()
db.close()

print("–ú–æ–¥–µ–ª—å –¥–æ–±–∞–≤–ª–µ–Ω–∞!")
```

### –û–±–Ω–æ–≤–∏—Ç—å —Ü–µ–Ω—É –º–æ–¥–µ–ª–∏

```python
from database import SessionLocal, ReferenceModel

db = SessionLocal()

model = db.query(ReferenceModel).filter_by(
    brand="Canon",
    model_name="80D"
).first()

if model:
    model.base_price = 95000
    db.commit()
    print(f"–¶–µ–Ω–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∞: {model.brand} {model.model_name} = {model.base_price} ‚Ç∏")

db.close()
```

## üì± –§–æ—Ä–º–∞—Ç —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π

–ö–æ–≥–¥–∞ –Ω–∞–π–¥–µ–Ω–æ –≤—ã–≥–æ–¥–Ω–æ–µ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–µ, –≤ Telegram –ø—Ä–∏–¥–µ—Ç:

```
üî• –í–´–ì–û–î–ù–û–ï –ü–†–ï–î–õ–û–ñ–ï–ù–ò–ï!

üì± Canon EOS 80D

üí∞ –¶–µ–Ω–∞: 75000 ‚Ç∏
üìä –ë–∞–∑–æ–≤–∞—è —Ü–µ–Ω–∞: 100000 ‚Ç∏
üéØ –°–∫–∏–¥–∫–∞: 25.0%
üíµ –≠–∫–æ–Ω–æ–º–∏—è: 25000 ‚Ç∏

üìç –ê–ª–º–∞—Ç—ã, –ë–æ—Å—Ç–∞–Ω–¥—ã–∫—Å–∫–∏–π —Ä–∞–π–æ–Ω

üîó [–û—Ç–∫—Ä—ã—Ç—å –æ–±—ä—è–≤–ª–µ–Ω–∏–µ]

Canon EOS 80D body –≤ –æ—Ç–ª–∏—á–Ω–æ–º —Å–æ—Å—Ç–æ—è–Ω–∏–∏
```

## üêõ –ü—Ä–æ–±–ª–µ–º—ã?

### –ù–µ –ø—Ä–∏—Ö–æ–¥—è—Ç —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è

1. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –≤—ã –Ω–∞–ø–∏—Å–∞–ª–∏ –±–æ—Ç—É `/start`
2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ç–æ–∫–µ–Ω –∏ chat_id –≤ `.env`
3. –ó–∞–ø—É—Å—Ç–∏—Ç–µ `python test_telegram.py`

### –ù–µ –Ω–∞—Ö–æ–¥—è—Ç—Å—è –º–æ–¥–µ–ª–∏

1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ –±–∞–∑–∞ –∏–º–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω–∞: `python import_base.py`
2. –ó–∞–ø—É—Å—Ç–∏—Ç–µ `python test_matcher.py`
3. –ü–æ—Å–º–æ—Ç—Ä–∏—Ç–µ –ª–æ–≥–∏ –≤ `olx_parser.log`

### –ü–∞—Ä—Å–µ—Ä –Ω–µ –Ω–∞—Ö–æ–¥–∏—Ç –æ–±—ä—è–≤–ª–µ–Ω–∏—è

1. –ó–∞–ø—É—Å—Ç–∏—Ç–µ `python test_scraper.py`
2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å olx.kz –≤ –±—Ä–∞—É–∑–µ—Ä–µ
3. –í–æ–∑–º–æ–∂–Ω–æ, OLX –∏–∑–º–µ–Ω–∏–ª —Å—Ç—Ä—É–∫—Ç—É—Ä—É —Å–∞–π—Ç–∞

## üìä –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥

### –ü—Ä–æ—Å–º–æ—Ç—Ä –ª–æ–≥–æ–≤ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏

```bash
tail -f olx_parser.log
```

(–ù–∞ Windows –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ PowerShell:)
```powershell
Get-Content olx_parser.log -Wait -Tail 50
```

### –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞

```bash
python view_stats.py
```

## üöÄ –ó–∞–ø—É—Å–∫ –≤ —Ñ–æ–Ω–µ (Windows)

–°–æ–∑–¥–∞–π—Ç–µ `start_parser.bat`:

```batch
@echo off
python main.py
pause
```

–ó–∞–ø—É—Å—Ç–∏—Ç–µ –¥–≤–æ–π–Ω—ã–º –∫–ª–∏–∫–æ–º.

## üìû –ß–µ–∫-–ª–∏—Å—Ç –ø–µ—Ä–µ–¥ –∑–∞–ø—É—Å–∫–æ–º

- [ ] –£—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ (`pip install -r requirements.txt`)
- [ ] –°–æ–∑–¥–∞–Ω Telegram –±–æ—Ç –∏ –ø–æ–ª—É—á–µ–Ω —Ç–æ–∫–µ–Ω
- [ ] –ü–æ–ª—É—á–µ–Ω Chat ID
- [ ] –°–æ–∑–¥–∞–Ω —Ñ–∞–π–ª `.env` —Å —Ç–æ–∫–µ–Ω–æ–º –∏ chat_id
- [ ] –ò–º–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω–∞ –±–∞–∑–∞ –º–æ–¥–µ–ª–µ–π (`python import_base.py`)
- [ ] –ü—Ä–æ–≤–µ—Ä–µ–Ω –ø–∞—Ä—Å–µ—Ä (`python test_scraper.py`)
- [ ] –ü—Ä–æ–≤–µ—Ä–µ–Ω Telegram (`python test_telegram.py`)
- [ ] –ó–∞–ø—É—â–µ–Ω —Ç–µ—Å—Ç–æ–≤—ã–π –ø—Ä–æ–≥–æ–Ω (`python main.py --once`)

**–ì–æ—Ç–æ–≤–æ! –ó–∞–ø—É—Å–∫–∞–π—Ç–µ `python main.py` –∏ –Ω–∞—Å–ª–∞–∂–¥–∞–π—Ç–µ—Å—å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–º –ø–æ–∏—Å–∫–æ–º –≤—ã–≥–æ–¥–Ω—ã—Ö –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–π! üéâ**
